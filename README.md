# Музыкальный сайт

## Создание БД

Спроектируем схему (таблицы и связи между ними) для музыкального сайта. Требования:

1. На сайте должна быть возможность увидеть список исполнителей.
2. Для каждого исполнителя можно получить список его альбомов.
3. Для каждого альбома можно получить список треков, которые в него входят.
4. У исполнителя есть имя (псевдоним).
5. У альбома есть название и год выпуска.
6. У трека есть название и длительность.
7. Трек входит только в один альбом, как и альбом принадлежит только одному исполнителю (это искусственное ограничение, чтобы схема была проще, далее мы избавимся от этого ограничения).

Добавим к схеме жанры. Требования:

1. На сайте должна быть возможность увидеть список жанров.
2. Для каждого жанра можно получить список исполнителей, которые поют в данном жанре.
3. У жанра есть название.
4. Исполнитель поет только в одном жанре (это искусственное ограничение, чтобы схема была проще, далее мы избавимся от этого ограничения).

- [Написаны SQL-запросы для создания таблиц](https://github.com/Antonio-87/DZ_database/blob/main/DZ_music_site.sql)
- [Схема](https://github.com/Antonio-87/DZ_database/blob/main/2.png)

## Связи. 3НФ

Ранее было ограничение, что каждый исполнитель поет строго в одном жанре - пора убрать это ограничение. Исполнители могут петь в разных жанрах, как и одному жанру могут принадлежать несколько исполнителей.

Аналогичное ограничение было и с альбомами у исполнителей (альбом мог выпустить только один исполнитель). Теперь альбом могут выпустить несколько исполнителей вместе. Как и исполнитель может принимать участие во множестве альбомов.

С треками ничего не меняем, все так же трек принадлежит строго одному альбому.

Но появилась новая сущность - сборник. Сборник имеет название и год выпуска. В него входят различные треки из разных альбомов.

_Обратите внимание_: один и тот же трек может присутствовать в разных сборниках.

- [Написаны SQL-запросы для создания таблиц](https://github.com/Antonio-87/DZ_database/blob/main/DZ_music_site_contact.sql)
- [Схема](https://github.com/Antonio-87/DZ_database/blob/main/2.png)

## INSERT

Заполним базу данных:

1.  не менее 8 исполнителей;
2.  не менее 5 жанров;
3.  не менее 8 альбомов;
4.  не менее 15 треков;
5.  не менее 8 сборников.
6.  таблицы связей (исполнителей с жанрами, исполнителей с альбомами, сборников с треками).

- [INSERT](https://github.com/Antonio-87/DZ_database/blob/main/DZ_music_site_INSERT.py)

## Select-запросы

Напишем SELECT-запросы, которые выведут информацию согласно инструкциям ниже.

1. название и год выхода альбомов, вышедших в 2018 году;
2. название и продолжительность самого длительного трека;
3. название треков, продолжительность которых не менее 3,5 минуты;
4. названия сборников, вышедших в период с 2018 по 2020 год включительно;
5. исполнители, чье имя состоит из 1 слова;
6. название треков, которые содержат слово "мой"/"my".

- [выборки из одной таблицы](https://github.com/Antonio-87/DZ_database/blob/main/DZ_music_site_SELECT.py)

Напишем SELECT-запросы, которые выведут информацию согласно инструкциям ниже.

1. количество исполнителей в каждом жанре;
2. количество треков, вошедших в альбомы 2019-2020 годов;
3. средняя продолжительность треков по каждому альбому;
4. все исполнители, которые не выпустили альбомы в 2020 году;
5. названия сборников, в которых присутствует конкретный исполнитель (выберите сами);
6. название альбомов, в которых присутствуют исполнители более 1 жанра;
7. наименование треков, которые не входят в сборники;
8. исполнителя(-ей), написавшего самый короткий по продолжительности трек (теоретически таких треков может быть несколько);
9. название альбомов, содержащих наименьшее количество треков.

- [группировки, выборки из нескольких таблиц](https://github.com/Antonio-87/DZ_database/blob/main/DZ_music_site_SELECT_GROUP.py)
